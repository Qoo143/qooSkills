# mission_info

任務資訊表，儲存教師指派或學生自派的學習任務設定。

## CREATE TABLE

```sql
CREATE TABLE `mission_info` (
  `mission_sn` int NOT NULL AUTO_INCREMENT COMMENT '任務 sn',
  `mission_nm` varchar(200) NOT NULL COMMENT '任務名稱',
  `target_id` mediumtext NOT NULL COMMENT '對象 id:user_id, class_id',
  `group_id` varchar(2000) DEFAULT NULL COMMENT '小組ID',
  `class_type` int DEFAULT NULL COMMENT 'NULL: 一般任務, 1: 課堂班級, 2: 學習扶助',
  `subject_id` smallint unsigned DEFAULT NULL COMMENT '科目',
  `cp_id` varchar(15) DEFAULT NULL COMMENT '補救教學施測單元',
  `remdial_node` mediumtext COMMENT '補救教學對應節點',
  `node` mediumtext NOT NULL COMMENT 'epid、節點、paper_sn',
  `mid` int DEFAULT NULL COMMENT 'publisher_mapping_sn',
  `check_list_sn` varchar(100) DEFAULT NULL COMMENT 'check_list_table的sn',
  `date` datetime NOT NULL COMMENT '結束日期',
  `semester` smallint NOT NULL COMMENT '學年度學期',
  `history_mk` char(1) NOT NULL DEFAULT 'N' COMMENT '是否已寫入歷程',
  `teacher_id` varchar(60) DEFAULT NULL COMMENT '指派人id',
  `self_practice` int NOT NULL DEFAULT '0' COMMENT '0：老師指派 1：學生自派 2：家長指派',
  `target_type` varchar(2) NOT NULL COMMENT '對象任務種類: 個人 I  or 全班  C',
  `mission_type` tinyint unsigned NOT NULL COMMENT '任務type: 0單元、1知識結構、2學習、3縱貫、4題庫單元、5題庫縱貫、6學力模擬測驗、7核心素養評量',
  `assign_type` mediumtext COMMENT '指派任務類型:1.影片2.練習題3.動態評量4.互動元件5.學習問卷NULL(練習題+影片)',
  `exam_type` int NOT NULL DEFAULT '0' COMMENT '縱貫式測驗模式(0=適性全測,1=適性),單元式測驗模式(0=順序出題,3=隨機出題)',
  `is_auto_finish` tinyint NOT NULL DEFAULT '1' COMMENT '是否開啟偵測自動完成',
  `create_date` datetime NOT NULL COMMENT '建立日期',
  `start_time` datetime NOT NULL COMMENT '開始時間',
  `end_mk` char(1) NOT NULL DEFAULT 'N' COMMENT '停用註記',
  `endYear` varchar(2000) NOT NULL COMMENT '節點終止年級',
  `topic_num` int NOT NULL COMMENT '題目數量',
  `unable` int NOT NULL DEFAULT '1' COMMENT '顯示：1 不顯示：0',
  `share` varchar(100) NOT NULL COMMENT '任務分享(第一碼：0不分享、1校內分享、2私人分享)',
  `subject_mission_share` tinyint NOT NULL DEFAULT '0' COMMENT '科任老師任務分享狀態',
  `extra_coin` int NOT NULL COMMENT '任務額外的代幣獎勵',
  `can_view_answer` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否每題作答看的到答案 1:顯示 0:不顯示',
  `copy_record` int DEFAULT NULL COMMENT '合併帳號時複製資料，對應回原始的mission_sn',
  `allowed_fastforward` smallint NOT NULL DEFAULT '0',
  PRIMARY KEY (`mission_sn`),
  KEY `unable` (`unable`),
  KEY `semester` (`semester`),
  KEY `history_mk` (`history_mk`),
  KEY `teacher_id` (`teacher_id`),
  KEY `exam_type` (`exam_type`),
  KEY `target_type` (`target_type`),
  KEY `cp_id` (`cp_id`),
  KEY `self_practice` (`self_practice`),
  KEY `create_date` (`create_date`),
  KEY `subject_mission_share` (`subject_mission_share`),
  KEY `start_time` (`start_time`),
  KEY `mission_type` (`mission_type`),
  KEY `share` (`share`),
  KEY `copy_record` (`copy_record`),
  KEY `class_type` (`class_type`),
  KEY `subject_id` (`subject_id`),
  KEY `is_auto_finish` (`is_auto_finish`),
  KEY `end_mk` (`end_mk`),
  KEY `can_view_answer` (`can_view_answer`),
  KEY `mid` (`mid`),
  CONSTRAINT `__mission_info_ibfk_6` FOREIGN KEY (`subject_id`) REFERENCES `subject` (`subject_id`),
  CONSTRAINT `mission_info_ibfk_2` FOREIGN KEY (`teacher_id`) REFERENCES `user_info` (`user_id`) ON DELETE SET NULL ON UPDATE SET NULL,
  CONSTRAINT `mission_info_ibfk_4` FOREIGN KEY (`mission_type`) REFERENCES `mission_type` (`mission_type_id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `mission_info_ibfk_5` FOREIGN KEY (`copy_record`) REFERENCES `mission_info` (`mission_sn`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `mission_info_ibfk_7` FOREIGN KEY (`mid`) REFERENCES `publisher_mapping` (`mapping_sn`) ON DELETE SET NULL ON UPDATE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=6295469 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=COMPACT;
```
